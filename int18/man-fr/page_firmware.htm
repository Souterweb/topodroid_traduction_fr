	<html>
	<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8" />
</HEAD>
	<body>
<h4>FIRMWARE (MICROLOGICIEL) DU DISTOX</h4>
<p align="justify">TopoDroid inclut les firmwares DistoX2 v. 2.1, 2.2, 2.3, 2.4, 
  et 2.5, qui sont tous compatibles avec le matériel 1.0.<br>
  Seule la version 2.5 est compatible avec le matériel 1.1.<br>
  TopoDroid inclut également les firmwares v. 2.6.1, 2.6.3 et 2.6.4 qui sont compatibles 
  avec le matériel 1.2, et le firmware v. 2.7.0 compatible avec le matériel 1.3 
  (BLE).</p>
<p align="justify"> <b>ATTENTION : le téléchargement d'un firmware incompatible 
  rend votre DistoX inutilisable ! <br>
  Lisez attentivement tous les messages avant de télécharger un nouveau micrologiciel.</b></p>
<p align="justify">&nbsp;</p>
<p align="justify"><strong>Boîte de dialogue du micrologiciel</strong></p>
<p align="justify">La boîte de dialogue du micrologiciel vous permet de sauvegarder 
  une copie du firmware actuel de votre DistoX2, ou de télécharger un nouveau 
  fichier. <br>
  La boîte de dialogue comporte une paire de boutons radio permettant de spécifier 
  s'il faut charger ou télécharger le micrologiciel. <br>
  Dans le premier cas, l'utilisateur doit sélectionner un fichier firmware. <br>
  Dans le second cas, l'utilisateur doit saisir le nom du fichier de sortie du 
  micrologiciel.<br>
  Ensuite, il y a une barre avec des boutons </p>
<ul>
  <li> <em>aide</em></li>
  <li><em>fermer</em> la boîte de dialogue sans rien faire</li>
  <li> <em>OK</em> confirme le chargement ou le téléchargement du micrologiciel.</li>
</ul>
<p><br>
  Avant de télécharger un nouveau firmware, <em>TopoDroid</em> vérifie qu'il est 
  compatible avec la version du matériel. Malheureusement, il n'y a pas de moyen 
  sûr de lire la version du micrologiciel à partir du contenu du fichier. Pour 
  éviter de télécharger un mauvais fichier, <em>TopoDroid</em> compare un bloc 
  de signature dans le fichier (le premier bloc après les blocs du bootloader) 
  et sur la somme de contrôle du fichier, par rapport aux valeurs connues.</p>
<p>Les codes de résultat de la vérification sont les suivants (négatif en cas 
  d'échec) : </p>
<p> 2100 : microprogramme 2.1<br>
  2200 : microprogramme 2.2<br>
  2300 : microprogramme 2.3<br>
  2400 : microprogramme 2.4<br>
  2412 : microprogramme 2.4c<br>
  2500 : microprogramme 2.5<br>
  2501 : microprogramme 2.51<br>
  2512 : microprogramme 2.5c<br>
  2610 : microprogramme 2.6.1<br>
  2630 : microprogramme 2.6.3<br>
  2640 : microprogramme 2.6.4<br>
  2700 : microprogramme 2.7.0<br>
  -200 : échec de la version 2.1 ou 2.2<br>
  -230, -2300 : échec de la version 2.3<br>
  -240, -2400 : échec 2.4<br>
  -250 : échec de la version 2.5 ou 2.51<br>
  -246, -2412 : échec 2.4c<br>
  -256, -2512 : échec 2.5c<br>
  -99 : échec générique</p>
<p>Le DistoX (v. 2 ou BLE) doit être démarré en mode bootloader. Se référer à 
  la documentation du DistoX2 pour plus de détails.<br>
  L'appareil doit être allumé en mode bootloader car <em>TopoDroid</em> lit le 
  bloc de signature du firmware déjà installé sur le DistoX, avant de télécharger 
  un nouveau firmware.<br>
  Si les versions matérielles ne sont pas compatibles, un avertissement est affiché. 
</p>
<p><strong>Attention</strong>, <strong><em>TopoDroid</em> ne prévient pas contre 
  le téléchargement d'un micrologiciel antérieur à la version 2.5 sur un matériel 
  1.1.</strong></p>
<p>Lors du téléchargement d'un micrologiciel, <em>TopoDroid</em> affiche un message 
  indiquant combien d'octets ont été écrits dans le DistoX. Si ce nombre est inférieur 
  à la taille du fichier du firmware, l'upload a échoué.<br>
  <br>
  <b>Proc&eacute;dure de mise &agrave; jour du firmware</b></p>
<ol>
  <li> Assurez-vous que le DistoX &agrave; mettre &agrave; jour est bien le DistoX 
    actif s&eacute;lectionn&eacute; dans <em>TopoDroid</em>.</li>
  <li>Ouvrez la bo&icirc;te de dialogue du firmware (menu &quot;Firmware&quot;) 
    et s&eacute;lectionnez le fichier du firmware &agrave; t&eacute;l&eacute;charger.</li>
  <li>V&eacute;rifiez la version du mat&eacute;riel et du firmware de votre 
    DistoX : assurez-vous que le laser est &eacute;teint (CLR) et appuyez deux 
    fois sur FUNC pour afficher la version. Vous pouvez &eacute;galement consulter 
    les versions du firmware et du mat&eacute;riel DistoX avec la bo&icirc;te 
    de dialogue d'informations sur le p&eacute;riph&eacute;rique.</li>
  <li>&Eacute;teignez le DistoX et allumez-le en mode bootloader : appuyez simultan&eacute;ment 
    sur PLUS, MOINS et DIST. Le r&eacute;tro&eacute;clairage de l'&eacute;cran 
    s'allume, mais l'&eacute;cran reste vide.</li>
  <li>T&eacute;l&eacute;charger le nouveau firmware avec <em>TopoDroid</em>.</li>
  <li>&Eacute;teignez le DistoX en appuyant sur CLR.</li>
  <li>Allumez le DistoX et v&eacute;rifiez la nouvelle version du firmware.</li>
</ol>
<p>Si le DistoX ne s'allume pas après un téléchargement de firmware, vous devez 
  le redémarrer en mode bootloader et réessayer de télécharger un firmware. Pour 
  le redémarrer en mode bootloader, il faut l'ouvrir et courtcircuiter deux broches 
  : voir la documentation sur internet pour plus de détails (http://souterweb.free.fr/boitaoutils/topographie/pages/disto.htm). 
</p>
<p><b>Remarque</b><br>
  Les mises &agrave; jour du firmware sont toujours enregistr&eacute;es dans le 
  fichier journal de <em>TopoDroid</em>.</p>
<p>

</body></html>